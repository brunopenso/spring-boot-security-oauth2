<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="132c5c20-313e-48aa-9762-94b893574b2d" activeEnvironment="Default" name="spring oauth2 tests" resourceRoot="" soapui-version="5.4.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="839432f9-f03b-4995-979d-b3b10af0604b" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:8080" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:8080</con:endpoint></con:endpoints><con:resource name="Token" path="/oauth/token" id="34913af7-baa6-4252-b182-fa8dd7f188fb"><con:settings/><con:parameters/><con:method name="Auth" id="85e694c2-b88b-4985-a600-5f4ec5e1373b" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>401 400</con:status><con:params/><con:element xmlns:tok="http://localhost/oauth/token">tok:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>multipart/form-data</con:mediaType><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>multipart/mixed</con:mediaType><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>text/xml</con:mediaType><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:tok="http://localhost/oauth/token">tok:Response</con:element></con:representation><con:request name="Auth request" id="9042b56d-653e-4fcc-99cd-4cf346b41ef9" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>username=Tom234&amp;password=password&amp;grant_type=password&amp;scope=myAuth</con:request><con:originalUri>http://localhost/oauth/token</con:originalUri><con:credentials><con:username>devglan-client</con:username><con:password>devglan-secret</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method><con:method name="Refresh Token" id="69910b93-62d5-4c2a-9f68-c82d6e9bb054" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:tok="http://localhost/oauth/token">tok:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:tok="http://localhost/oauth/token">tok:Response</con:element></con:representation><con:request name="Refresh Request" id="258c9ace-b753-4ac0-a779-66d948baabf1" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>grant_type=refresh_token&amp;refresh_token=1234</con:request><con:originalUri>http://localhost/oauth/token</con:originalUri><con:credentials><con:username>devglan-client</con:username><con:password>devglan-secret</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource><con:resource name="revoke" path="/oauth/token/revoke" id="6c7a2d65-b145-4962-9b64-a46cf4ac0996"><con:settings/><con:parameters><con:parameter><con:name>token</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Revoke" id="f05e1af4-f437-4dad-a9b3-b41c86aedd9f" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Revoke Request" id="3d69fd1f-4ec1-47ad-ab7b-97ff0b65e2ad" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/token/revoke</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="token" value="1234" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>token</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="user" path="/users/user" id="e1da19df-cc56-4e3a-906e-f6ea4b1069a3"><con:settings/><con:parameters><con:parameter><con:name>Authorization</con:name><con:value/><con:style>HEADER</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="User" id="657bafa2-56ec-4d9f-ba83-3c2f3d27da88" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>401</con:status><con:params/><con:element xmlns:user="http://localhost/users/user">user:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="User request" id="be890b8a-847d-48e1-83ee-0ee51afd8a70" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/users/user</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer tokenValue" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>Authorization</con:entry></con:parameterOrder></con:request></con:method><con:method name="POST" id="82c80c3f-29ef-46f4-98d6-cfe5eab1e68e" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400 500</con:status><con:params/><con:element xmlns:user="http://localhost/users/user">user:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:user="http://localhost/users/user">user:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Create user" id="68cc19f2-9f1b-4ccb-a963-2a594fa64c90" mediaType="application/json" postQueryString="false"><con:settings/><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="check_token" path="/oauth/check_token" id="91e20459-b46b-40fa-8281-1bcd45de663e"><con:settings/><con:parameters><con:parameter><con:name>token</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:method name="Check token" id="61e4b615-b465-4eca-b5da-151fdac09847" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>401 400</con:status><con:params/><con:element xmlns:chec="http://localhost/oauth/check_token">chec:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:chec="http://localhost/oauth/check_token">chec:Response</con:element></con:representation><con:request name="CheckToken request" id="59380c79-aa56-4526-815e-3077ffeed651" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/check_token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry/></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="71719e22-41ed-4e9a-b110-f26949667ec8" name="Tests"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="06a7fb71-ae40-40bc-a403-230e60f028f0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="One cycle" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="List Users Failed" id="b90134ba-1781-475a-beac-08e36a84e04b"><con:settings/><con:config service="http://localhost:8080" resourcePath="/users/user" methodName="User" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="List Users Failed" id="be890b8a-847d-48e1-83ee-0ee51afd8a70" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/users/user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48725eb1-a64f-4673-83e2-b765403203e9" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="d4e7f092-e2f2-4dbd-b8f2-365e4a4d5e5a" name="JsonPath Match"><con:configuration><path>$.error</path><content>invalid_token</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer asdsad" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>Authorization</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Login Failed" id="1f186a36-fc25-49e1-8cc1-260650bcbbe5"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/token" methodName="Auth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Login Failed" id="9042b56d-653e-4fcc-99cd-4cf346b41ef9" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>username=${#TestSuite#username}1&amp;password=${#TestSuite#pass}&amp;grant_type=password&amp;scope=${#TestSuite#oAuthScope}</con:request><con:originalUri>http://localhost/oauth/token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6c17800b-911f-4dec-991b-b55bd7d4824d" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="2ff0e8d3-0efa-4297-9cd8-9e36c6e16631" name="JsonPath Match"><con:configuration><path>$.error_description</path><content>Bad credentials</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>devglan-client</con:username><con:password>devglan-secret</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Login" id="c9ae0754-4921-4212-95b1-42fe7743c184"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/token" methodName="Auth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Login" id="9042b56d-653e-4fcc-99cd-4cf346b41ef9" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>username=${#TestSuite#username}&amp;password=${#TestSuite#pass}&amp;grant_type=password&amp;scope=${#TestSuite#oAuthScope}</con:request><con:originalUri>http://localhost/oauth/token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6c17800b-911f-4dec-991b-b55bd7d4824d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a00ca5df-9ef2-4ac2-b037-4ff0e491fdba" name="JsonPath Existence Match"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="56c62b48-f8b1-48bb-afc8-bf84bb061fab" name="JsonPath Existence Match 1"><con:configuration><path>$.token_type</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="49574985-d490-463e-bfd6-d99b163fc7b5" name="JsonPath Existence Match 2"><con:configuration><path>$.refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="51f5b799-67ce-4cbc-be15-29de2bbda711" name="JsonPath Match"><con:configuration><path>$.scope</path><content>myAuth</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>${#TestSuite#client_id}</con:username><con:password>${#TestSuite#client_secret}</con:password><con:domain/><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="List Users Work" id="b5d9e51a-2938-4437-b5ec-5f38ce684462"><con:settings/><con:config service="http://localhost:8080" resourcePath="/users/user" methodName="User" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="List Users Work" id="be890b8a-847d-48e1-83ee-0ee51afd8a70" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/users/user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48725eb1-a64f-4673-83e2-b765403203e9" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="894d193d-800c-4bce-abfb-6a402cfb0e89" name="JsonPath Existence Match"><con:configuration><path>$.[0].id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer ${Login#Response#$.access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>Authorization</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="refresh token" id="6d034c59-5fcb-4c51-8600-a369142e0f5a"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/token" methodName="Refresh Token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="refresh token" id="258c9ace-b753-4ac0-a779-66d948baabf1" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>grant_type=refresh_token&amp;refresh_token=${Login#Response#$.refresh_token}</con:request><con:originalUri>http://localhost/oauth/token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="faf955f6-d043-4307-bf35-1eedad2acf62" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f8d754e4-29e0-461e-a725-ddf4521bbc1f" name="JsonPath Existence Match"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="913fb86e-d87d-4d5f-bfc3-186147992c21" name="JsonPath Existence Match 1"><con:configuration><path>$.refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>devglan-client</con:username><con:password>devglan-secret</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="List Users NotWork After Refresh" id="29123046-2126-4a28-bcc9-f767ea247d17"><con:settings/><con:config service="http://localhost:8080" resourcePath="/users/user" methodName="User" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="List Users NotWork After Refresh" id="be890b8a-847d-48e1-83ee-0ee51afd8a70" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/users/user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48725eb1-a64f-4673-83e2-b765403203e9" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="894d193d-800c-4bce-abfb-6a402cfb0e89" name="JsonPath Existence Match"><con:configuration><path>$.error</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer ${Login#Response#$.access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>Authorization</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="List Users Work With New token" id="bfc09edb-4f41-4f4d-999a-d804ae5c0ff5"><con:settings/><con:config service="http://localhost:8080" resourcePath="/users/user" methodName="User" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="List Users Work With New token" id="be890b8a-847d-48e1-83ee-0ee51afd8a70" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/users/user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48725eb1-a64f-4673-83e2-b765403203e9" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="894d193d-800c-4bce-abfb-6a402cfb0e89" name="JsonPath Existence Match"><con:configuration><path>$.[0].id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer ${refresh token#Response#$.access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>Authorization</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Revoke token" id="c769f1cf-b6fe-4e38-8b2f-1066353c2c9c"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/token/revoke" methodName="Revoke" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Revoke token" id="3d69fd1f-4ec1-47ad-ab7b-97ff0b65e2ad" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/token/revoke</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="281a3c44-504a-4bff-89a7-8bc3112e141d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="token" value="${refresh token#Response#$.access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="List Users NotWork After Revoke" id="bcd91bb3-f55c-435f-a97d-cb8f43e45ce4"><con:settings/><con:config service="http://localhost:8080" resourcePath="/users/user" methodName="User" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="List Users NotWork After Revoke" id="be890b8a-847d-48e1-83ee-0ee51afd8a70" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/users/user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="48725eb1-a64f-4673-83e2-b765403203e9" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="894d193d-800c-4bce-abfb-6a402cfb0e89" name="JsonPath Existence Match"><con:configuration><path>$.error</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="Authorization" value="Bearer ${refresh token#Response#$.access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>Authorization</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="refresh token revoked failed" id="4fae9b1c-0741-408a-b94a-540011e8a15a"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/token" methodName="Refresh Token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="refresh token revoked failed" id="258c9ace-b753-4ac0-a779-66d948baabf1" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>grant_type=refresh_token&amp;refresh_token=${refresh token#Response#$.refresh_token}</con:request><con:originalUri>http://localhost/oauth/token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="faf955f6-d043-4307-bf35-1eedad2acf62" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="f8d754e4-29e0-461e-a725-ddf4521bbc1f" name="JsonPath Existence Match"><con:configuration><path>$.error</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>devglan-client</con:username><con:password>devglan-secret</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="5db8f6e5-21f3-4a9b-af51-f13d6b213994" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Check Token" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="CheckToken failed" id="2022f6a6-84cd-4b93-adff-1ed4ee0a298f"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/check_token" methodName="Check token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CheckToken failed" id="59380c79-aa56-4526-815e-3077ffeed651" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/check_token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fd9491-6589-48ee-bcd4-7355204e82aa" name="Valid HTTP Status Codes"><con:configuration><codes>401</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="97e9820f-41cd-4301-a370-9f051adf944f" name="JsonPath Match"><con:configuration><path>$.error</path><content>Unauthorized</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="CheckToken authenticated no token" id="0aa9b578-2d27-4719-b268-6c55355964cd"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/check_token" methodName="Check token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CheckToken authenticated no token" id="59380c79-aa56-4526-815e-3077ffeed651" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/check_token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fd9491-6589-48ee-bcd4-7355204e82aa" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="97e9820f-41cd-4301-a370-9f051adf944f" name="JsonPath Match"><con:configuration><path>$.message</path><content>Required String parameter 'token' is not present</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>${#TestSuite#client_id}</con:username><con:password>${#TestSuite#client_secret}</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Login" id="04684669-31c0-4070-81c2-6cdfb0e36981"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/token" methodName="Auth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Login" id="9042b56d-653e-4fcc-99cd-4cf346b41ef9" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>username=${#TestSuite#username}&amp;password=${#TestSuite#pass}&amp;grant_type=password&amp;scope=${#TestSuite#oAuthScope}</con:request><con:originalUri>http://localhost/oauth/token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6c17800b-911f-4dec-991b-b55bd7d4824d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="a00ca5df-9ef2-4ac2-b037-4ff0e491fdba" name="JsonPath Existence Match"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="56c62b48-f8b1-48bb-afc8-bf84bb061fab" name="JsonPath Existence Match 1"><con:configuration><path>$.token_type</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="49574985-d490-463e-bfd6-d99b163fc7b5" name="JsonPath Existence Match 2"><con:configuration><path>$.refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="51f5b799-67ce-4cbc-be15-29de2bbda711" name="JsonPath Match"><con:configuration><path>$.scope</path><content>myAuth</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>${#TestSuite#client_id}</con:username><con:password>${#TestSuite#client_secret}</con:password><con:domain/><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check Access Token authenticated - ok" id="3500e103-7ccd-436e-87d5-6920dc398db3"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/check_token" methodName="Check token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check Access Token authenticated - ok" id="59380c79-aa56-4526-815e-3077ffeed651" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/check_token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fd9491-6589-48ee-bcd4-7355204e82aa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="97e9820f-41cd-4301-a370-9f051adf944f" name="JsonPath Match"><con:configuration><path>$.user_name</path><content>Tom234</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="1489f6cf-9c0f-4afe-a856-1fc6aad844d0" name="JsonPath Match 1"><con:configuration><path>$.authorities</path><content>["ROLE_ADMIN"]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>${#TestSuite#client_id}</con:username><con:password>${#TestSuite#client_secret}</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="token" value="${Login#Response#$.access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check Refresh Token authenticated - failed" id="cc3e6358-a094-471e-bb13-844f4b008cf6"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/check_token" methodName="Check token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check Refresh Token authenticated - failed" id="59380c79-aa56-4526-815e-3077ffeed651" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/check_token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fd9491-6589-48ee-bcd4-7355204e82aa" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="97e9820f-41cd-4301-a370-9f051adf944f" name="JsonPath Match"><con:configuration><path>$.error_description</path><content>Token was not recognised</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>${#TestSuite#client_id}</con:username><con:password>${#TestSuite#client_secret}</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="token" value="${Login#Response#$.revoke_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Revoke token" id="5557fc55-6216-4fec-9f67-ac547f703250"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/token/revoke" methodName="Revoke" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Revoke token" id="3d69fd1f-4ec1-47ad-ab7b-97ff0b65e2ad" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/token/revoke</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="281a3c44-504a-4bff-89a7-8bc3112e141d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="token" value="${Login#Response#$.access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check Access Token authenticated - failed" id="1746bc76-0afc-443d-a825-a1978abf6844"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/check_token" methodName="Check token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check Access Token authenticated - failed" id="59380c79-aa56-4526-815e-3077ffeed651" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/check_token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fd9491-6589-48ee-bcd4-7355204e82aa" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="97e9820f-41cd-4301-a370-9f051adf944f" name="JsonPath Match"><con:configuration><path>$.error_description</path><content>Token was not recognised</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>${#TestSuite#client_id}</con:username><con:password>${#TestSuite#client_secret}</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="token" value="${Login#Response#$.access_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Check Refresh Token authenticated - failed 1" id="b5b8118b-d849-453a-a8d4-13defe777c0b"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/check_token" methodName="Check token" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Check Refresh Token authenticated - failed 1" id="59380c79-aa56-4526-815e-3077ffeed651" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request/><con:originalUri>http://localhost/oauth/check_token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fd9491-6589-48ee-bcd4-7355204e82aa" name="Valid HTTP Status Codes"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="97e9820f-41cd-4301-a370-9f051adf944f" name="JsonPath Match"><con:configuration><path>$.error_description</path><content>Token was not recognised</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>${#TestSuite#client_id}</con:username><con:password>${#TestSuite#client_secret}</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="token" value="${Login#Response#$.revoke_token}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="aa8e71d0-ebf6-46cd-bf58-8118307c2d40" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create User and Authenticate" searchProperties="true"><con:settings/><con:testStep type="properties" name="Properties" id="2cc4b6b1-63d2-47a5-b908-eb21b6bda8b3"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>username</con:name><con:value>${= import org.apache.commons.lang.RandomStringUtils;charset = (('a'..'z') + ('A'..'Z') + ('0'..'9')).join(); length = 9; RandomStringUtils.random(length, charset.toCharArray())}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="772e91f4-72b4-455a-9eb8-96b649fd5ef8"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>username</con:name><con:sourceType>username</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>Create user</con:targetStep><con:targetPath>$.username</con:targetPath><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Create user" id="ad8427e8-5ee0-49d9-8560-e37661357cd1"><con:settings/><con:config service="http://localhost:8080" resourcePath="/users/user" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create user" id="68cc19f2-9f1b-4ccb-a963-2a594fa64c90" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>{
   "password": "1234",
   "username": "${= import org.apache.commons.lang.RandomStringUtils;charset = (('a'..'z') + ('A'..'Z') + ('0'..'9')).join(); length = 9; RandomStringUtils.random(length, charset.toCharArray())}"
}</con:request><con:originalUri>http://localhost/users/user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a2649419-7c14-43e3-b792-98baf43f37a9" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="3b2138a3-03fb-4076-9a7a-6fd4e99e48fa" name="JsonPath Existence Match"><con:configuration><path>$.id</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="e1065a0d-c8ab-4645-84ee-3e5b516762d8" name="JsonPath Existence Match 1"><con:configuration><path>$.username</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Authenticate" id="72574545-103c-4211-a92c-3e684288767a"><con:settings/><con:config service="http://localhost:8080" resourcePath="/oauth/token" methodName="Auth" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Authenticate" id="9042b56d-653e-4fcc-99cd-4cf346b41ef9" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080</con:endpoint><con:request>username=${Create user#Response#$.username}&amp;password=${Create user#Request#$.password}&amp;grant_type=password&amp;scope=myAuth</con:request><con:originalUri>http://localhost/oauth/token</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="6fdf98de-2764-471d-81a3-e237bc27f43b" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="e71834ec-8ebe-48e6-b337-71f62754c698" name="JsonPath Existence Match"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="4c671f96-e8fd-411b-b472-b33101add3da" name="JsonPath Existence Match 1"><con:configuration><path>$.refresh_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="4e7d6e24-0189-4376-9994-c9f9d0994d38" name="JsonPath Existence Match 2"><con:configuration><path>$.expires_in</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username>devglan-client</con:username><con:password>devglan-secret</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>client_id</con:name><con:value>devglan-client</con:value></con:property><con:property><con:name>client_secret</con:name><con:value>devglan-secret</con:value></con:property><con:property><con:name>username</con:name><con:value>Tom234</con:value></con:property><con:property><con:name>pass</con:name><con:value>password</con:value></con:property><con:property><con:name>oAuthScope</con:name><con:value>myAuth</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>